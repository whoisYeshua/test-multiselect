# @ui/screen-size-provider

Провайдер разрешения экрана, используемый в библиотеках и некоторых приложениях IRIS.

Предоставляет следующую информацию: ширину, высоту экрана, размер экрана в виде строкового ярлыка `mobile`, `tablet`, `desktop`. Данные по брекпоинтам берутся из контекста темы (дефолтные или кастомизированные).

## Важно

Некоторые старые приложения не совместимы с актуальной мажорной версией пакета. Необходимо быть крайне внимательными при обновлении. Версия `1.0.0` доступна под именем `@ui/screen-size-provider-legacy`.

## Подготовка к работе

1. Необходима установленная Node.js LTS версии. Узнать текущую версию на своей машине `node -v`, при необходимости [установить](https://nodejs.org/en/download/)
2. Установить все зависимости в проекте `npm ci`

## Использование

Установка пакета:

```bash
    npm install @ui/screen-size-provider --save
```

1. Необходимо обернуть корень приложения в Provider размера экрана, импортируемый из @ui/screen-size-provider.

```bash
    import { ScreenSizeProvider } from '@ui/screen-size-provider';

    const App = () => (
        <ScreenSizeProvider>
            <Switch>
                <Route path='/main' exact component={Main} />
            </Switch>
        </ScreenSizeProvider>
    );
```

2. Компонент, в котором необходимо использовать размеры экрана, нужно обернуть в HOC withScreenSize, импортируемый из @ui/screen-size-provider.

```bash
    import { withScreenSize } from '@ui/screen-size-provider';

    const SomeComponent = ({screenWidth, screenHeight, screenWidthShortcut, onSendData, ...props}) => {
        const showDetailsButton = screenWidthShortcut === 'desktop';

        if(!showDetailsButton) {
            return null;
        }

        return (
            <div>
                <Button onClick={() => onSendData(screenWidth, screenHeight)} / >
            </div>
        );
    };

    export default withScreenSize(SomeComponent);

```
